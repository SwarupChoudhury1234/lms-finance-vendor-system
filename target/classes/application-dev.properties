# ===========================================
# 1. APPLICATION SETUP (DEV)
# ===========================================
spring.application.name=lms-unified-backend-dev
server.port=8080

# Error Handling: Verbose for debugging
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=always

# ===========================================
# 2. DATABASE CONFIGURATION (Localhost)
# ===========================================
# Uses a separate DB name 'lms_fee_dev' so you don't wipe real data accidentally
spring.datasource.url=jdbc:mysql://localhost:3306/lms_fee_dev?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Kolkata
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP: Smaller pool for local dev
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2

# ===========================================
# 3. JPA / HIBERNATE (DEV)
# ===========================================
# 'update' allows you to change Java entities and have tables update automatically
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Kolkata

# ===========================================
# 4. FLYWAY MIGRATION
# ===========================================
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration

# ===========================================
# 5. FILE UPLOAD
# ===========================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===========================================
# 6. EMAIL CONFIGURATION (Fake/Debug)
# ===========================================
# Uses Mailtrap (or console logging) to avoid sending real emails to parents
spring.mail.host=smtp.mailtrap.io
spring.mail.port=2525
spring.mail.username=your_mailtrap_user
spring.mail.password=your_mailtrap_password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ===========================================
# 7. LOGGING (Verbose)
# ===========================================
logging.level.root=INFO
logging.level.com.graphy.lms=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.file.name=logs/lms-dev.log

# ===========================================
# 8. RAZORPAY (Test Mode)
# ===========================================
# Hardcode TEST keys here for convenience
razorpay.key.id=rzp_test_YOUR_TEST_KEY_HERE
razorpay.key.secret=YOUR_TEST_SECRET_HERE
razorpay.currency=INR
razorpay.company.name=LMS Institute (DEV)

# ===========================================
# 9. CORS (Open)
# ===========================================
cors.allowed.origins=*

# ===========================================
# 10. CUSTOM CONFIGS
# ===========================================
receipt.storage.path=./receipts/
receipt.pdf.generation.enabled=true
spring.jackson.time-zone=Asia/Kolkata
spring.jackson.serialization.write-dates-as-timestamps=false